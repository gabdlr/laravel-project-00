(this["webpackJsonpreact-app-consumer"]=this["webpackJsonpreact-app-consumer"]||[]).push([[0],{29:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(21),a=n.n(o),s=n(0),i=function(){return Object(s.jsx)("header",{className:"py-3 container-fluid text-white text-center mt-3 bg-danger",children:Object(s.jsx)("h1",{children:"React App Laravel's API Consumer"})})},l=n(6),u=n(2),d=n(5),j=Object(c.createContext)(),b=function(){var e=Object(c.useContext)(j),t=e.postNote,n=e.selectedNote,r=e.updateNote,o=e.modified,a=e.setModified,i=Object(c.useState)({title:"",content:""}),b=Object(d.a)(i,2),p=b[0],f=b[1],m=Object(c.useState)({id:"",title:"",content:""}),O=Object(d.a)(m,2),x=O[0],v=O[1];Object(c.useEffect)((function(){f({title:n.title,content:n.content}),v({id:n.id,title:n.title,content:n.content})}),[n]);var h=function(e){f(Object(u.a)(Object(u.a)({},p),{},Object(l.a)({},e.target.name,e.target.value))),v(Object(u.a)(Object(u.a)({},x),{},Object(l.a)({},e.target.name,e.target.value)))},g=function(){f({title:"",content:""}),a(!1)},N=p.title,y=p.content;return Object(s.jsx)("form",{id:"note-form",onSubmit:function(e){return e.preventDefault(),""===p.title&&""===p.content?(document.getElementById("title").classList.add("form_error"),setTimeout((function(){document.getElementById("title").classList.remove("form_error")}),1500),document.getElementById("content").classList.add("form_error"),void setTimeout((function(){document.getElementById("content").classList.remove("form_error")}),1500)):""===p.title?(document.getElementById("title").classList.add("form_error"),void setTimeout((function(){document.getElementById("title").classList.remove("form_error")}),1500)):""===p.content?(document.getElementById("content").classList.add("form_error"),void setTimeout((function(){document.getElementById("content").classList.remove("form_error")}),1500)):(""!==n.id?r(x):t(p),void g())},children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{id:"title",type:"text",className:"form-control mt-3 mb-2",name:"title",value:N,onChange:h,placeholder:"Write a title..."}),Object(s.jsx)("textarea",{className:"form-control",name:"content",value:y,onChange:h,id:"content",cols:"30",rows:"4",placeholder:"Content of your note"}),Object(s.jsxs)("div",{className:"d-flex justify-content-end mt-2",children:[Object(s.jsx)("button",{className:"btn btn-lg px-5 bg-danger text-white mr-2",onClick:g,children:"Reset"}),Object(s.jsx)("button",{className:"btn btn-lg px-5 bg-success text-white",type:"submit",children:o?"Modify":"Send"})]})]})})},p=function(e){var t=e.id,n=e.title,r=e.content,o=Object(c.useContext)(j),a=o.deleteNote,i=o.selectNote,l=o.setModified;return Object(s.jsxs)("div",{className:"alert alert-warning py-3 no-gutters",role:"alert",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-10 d-block",children:Object(s.jsx)("h4",{className:"",children:n})}),Object(s.jsxs)("div",{className:"col-2 justify-content-end d-flex ",children:[Object(s.jsx)("div",{className:"mr-2 close",children:Object(s.jsx)("i",{className:"bi bi-pencil-square",id:t,onClick:function(e){return function(e){i(parseInt(e)),l(!0)}(e.target.id)}})}),Object(s.jsx)("div",{className:"close",children:Object(s.jsx)("i",{className:"bi bi-x-square",id:t,onClick:function(e){a(parseInt(e.target.id))}})})]})]}),Object(s.jsx)("hr",{className:"mt-0"}),r]})},f=function(){var e=Object(c.useContext)(j),t=e.notes,n=e.getNotes,r=e.load;return Object(c.useEffect)((function(){r&&n()}),[]),t?t.map((function(e){return Object(s.jsx)(p,{id:e.id,title:e.title,content:e.content},e.id)})):null},m=function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(b,{}),Object(s.jsx)(f,{})]})},O=(n(29),n(4)),x=n.n(O),v=n(8),h=n(23),g="GET_NOTES",N="POST_NOTE",y="UPDATE_NOTE",E="DELETE_NOTE",w="SELECT_NOTE",T=function(e,t){switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{notes:t.payload,errors:null,load:!1});case w:return Object(u.a)(Object(u.a)({},e),{},{selectedNote:e.notes.filter((function(e){return e.id===t.payload}))[0]});case N:return Object(u.a)(Object(u.a)({},e),{},{notes:[t.payload].concat(Object(h.a)(e.notes)),errors:null});case y:return Object(u.a)(Object(u.a)({},e),{},{notes:e.notes.map((function(e){return e.id===t.payload.id?t.payload:e}))});case E:return Object(u.a)(Object(u.a)({},e),{},{notes:e.notes.filter((function(e){return e.id!==t.payload}))});default:return e}},C=n(22),k=n.n(C).a.create({baseURL:"https://laravel-note-gabapp.onrender.com/api/"}),L=function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],o=n[1],a=Object(c.useReducer)(T,{notes:[],errors:null,load:!0,selectedNote:{id:"",title:"",content:""}}),i=Object(d.a)(a,2),l=i[0],u=i[1],b=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/notes");case 3:t=e.sent,u({type:g,payload:t.data.reverse(),load:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.post("/notes",t);case 3:n=e.sent,u({type:N,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.delete("/notes/".concat(t));case 3:u({type:E,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.put("/notes/".concat(t.id),t);case 3:u({type:y,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(j.Provider,{value:{notes:l.notes,errors:l.errors,load:l.load,selectedNote:l.selectedNote,modified:r,postNote:p,getNotes:b,deleteNote:f,selectNote:function(e){u({type:w,payload:e})},updateNote:m,setModified:o},children:e.children})};var I=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(L,{children:[Object(s.jsx)(i,{}),Object(s.jsx)(m,{})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(I,{})}),document.getElementById("root")),_()}},[[49,1,2]]]);
//# sourceMappingURL=main.764ff67d.chunk.js.map